(window["webpackJsonpshop-test"]=window["webpackJsonpshop-test"]||[]).push([[0],{104:function(e,t,n){e.exports=n(214)},113:function(e,t,n){},174:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(41),o=n.n(c),u=(n(71),n(17)),l=n(93),d=n.n(l),i=function(e){var t=e.cartCounter;return a.a.createElement("header",null,a.a.createElement("div",{className:"header__container"},a.a.createElement("div",{className:"header__centered"},a.a.createElement("h2",null,a.a.createElement(u.b,{to:"/market"},"Market")),a.a.createElement("div",{className:"basket__block"},a.a.createElement(u.c,{to:"cart"},a.a.createElement("img",{src:d.a,alt:""})),a.a.createElement("span",null,t)))))},s=n(7),m=Object(s.b)((function(e){return{addedProducts:e.productPage.addedProducts}}))((function(e){var t=e.addedProducts;return a.a.createElement(i,{cartCounter:t.length})})),A=(n(113),function(e){return a.a.createElement("div",null,a.a.createElement(m,null),a.a.createElement("div",{className:"main__content"},e.children))}),p=n(21),f=n(42);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={data:{login:null,password:null},isAuth:!1},h=function(){return function(e){var t=JSON.parse(localStorage.getItem("userData"));t&&(e(v(t.login,t.password)),e(O(!0)))}},v=function(e,t){return{type:"SET_USER_DATA",data:{login:e,password:t}}},O=function(e){return{type:"SET_AUTH",isAuth:e}},P=n(6),j=n(217),w=n(96),D=n(67);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={products:[{id:1,name:"BMW white"},{id:2,name:"SUZUKI red"},{id:3,name:"Impala black"},{id:4,name:"BM5 blue"},{id:5,name:"Land Rover 2012"}],addedProducts:[]},U=Object(P.c)({loginPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return E({},e,{data:t.data});case"SET_AUTH":return E({},e,{isAuth:t.isAuth});default:return e}},form:j.a,productPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT":return k({},e,{addedProducts:[].concat(Object(D.a)(e.addedProducts),[t.product])});case"REMOVE_PRODUCT":return k({},e,{addedProducts:Object(D.a)(e.addedProducts.filter((function(e){return e.id!==t.productId})).map((function(e){return e})))});default:return e}}}),C=Object(P.e)(U,Object(P.a)(w.a));window.store=C;var M,T=C,R=n(101),I=(n(60),function(e){var t=e.isAdded,n=e.addProductToCart,r=e.name,c=e.id;return a.a.createElement("div",{className:"product__block",key:c},a.a.createElement("h4",null,r),!t&&a.a.createElement("button",{className:"add__btn",onClick:function(){return n(c,r)}},"Add to cart"),t&&a.a.createElement(u.c,{to:"/cart"},a.a.createElement("button",{className:"add__btn"},"Go to cart")))}),N=function(e){var t=Object(r.useState)(!1),n=Object(R.a)(t,2),c=n[0],o=n[1];return a.a.createElement(I,Object.assign({},e,{addProductToCart:function(t,n){o(!0),e.addProduct({id:t,name:n})},isAdded:c}))},_=function(e){var t=e.products,n=e.addProduct;return a.a.createElement("main",null,a.a.createElement("div",null,a.a.createElement("h3",null,"Market"),t.map((function(e){return a.a.createElement(N,Object.assign({},e,{addProduct:n}))}))))},F=n(98),V=n(99),G=n(102),J=n(100),W=n(103),Z=function(e){return{isAuth:e.loginPage.isAuth}},Q=function(e){var t=function(t){function n(){return Object(F.a)(this,n),Object(G.a)(this,Object(J.a)(n).apply(this,arguments))}return Object(W.a)(n,t),Object(V.a)(n,[{key:"componentDidMount",value:function(){this.props.getLocalUserData()}},{key:"render",value:function(){return this.props.isAuth?a.a.createElement(e,this.props):a.a.createElement(p.a,{to:"/login"})}}]),n}(a.a.Component);return Object(s.b)(Z,{getLocalUserData:h})(t)},q=Object(P.d)(Object(s.b)((function(e){return{isAuth:e.loginPage.isAuth,products:e.productPage.products}}),{addProduct:function(e){return{type:"ADD_PRODUCT",product:e}}}),Q)((function(e){var t=e.products,n=e.addProduct;return a.a.createElement(_,{addProduct:n,products:t})})),B=function(e){var t=e.id,n=e.name,r=e.removeProduct;return a.a.createElement("div",{className:"product__block",key:t},a.a.createElement("h4",null,n),a.a.createElement("button",{className:"add__btn",onClick:function(){return r(t)}},"Remove to cart"))},Y=function(e){var t=e.addedProducts,n=e.removeProduct;return a.a.createElement("main",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("h3",null,"Cart"),t.length>0?t.map((function(e){return a.a.createElement(B,Object.assign({},e,{removeProduct:n}))})):a.a.createElement("div",null,"Nothing added to cart"))))},K=Object(P.d)(Object(s.b)((function(e){return{addedProducts:e.productPage.addedProducts}}),{removeProduct:function(e){return{type:"REMOVE_PRODUCT",productId:e}}}),Q)((function(e){var t=e.removeProduct,n=e.addedProducts;return a.a.createElement(Y,{removeProduct:t,addedProducts:n})})),L=n(215),z=n(216),x=function(e){if(!e)return"Field is required"},H=n(68),X=(n(174),function(e){e.input;var t=e.meta,n=Object(H.a)(e,["input","meta"]),r=t.error&&t.touched;return a.a.createElement("div",null,a.a.createElement("div",{className:r?"error":null},n.children),r&&a.a.createElement("span",{className:"error-text"},t.error))}),$=function(e){var t=e.input,n=(e.meta,e.child,Object(H.a)(e,["input","meta","child"]));return a.a.createElement(X,e,a.a.createElement("input",Object.assign({},t,n)))},ee=(M=8,function(e){return e.length>M?void 0:"Min length is "+M}),te=Object(L.a)({form:"login"})((function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit},a.a.createElement("div",null,a.a.createElement(z.a,{name:"login",placeholder:"Input login",component:$,validate:[x,ee]})),a.a.createElement("div",null,a.a.createElement(z.a,{name:"password",placeholder:"Input password",component:$,validate:[x,ee]})),a.a.createElement("div",null,a.a.createElement("button",{className:"submit"},"Submit")))})),ne=Object(s.b)((function(e){return{isAuth:e.loginPage.isAuth}}),{setLocalUserData:function(e,t){return function(n){localStorage.setItem("userData",JSON.stringify({login:e,password:t})),n(v(e,t)),n(O(!0))}}})((function(e){return e.isAuth?a.a.createElement(p.a,{to:"/market"}):a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Login"),a.a.createElement(te,Object.assign({onSubmit:function(t){e.setLocalUserData(t.login,t.password)}},e)))})),re=function(){return a.a.createElement(u.a,null,a.a.createElement(s.a,{store:T},a.a.createElement(A,null,a.a.createElement(p.b,{exact:!0,path:"/",render:function(){return a.a.createElement(p.a,{to:"/login"})}}),a.a.createElement(p.b,{path:"/market",render:function(){return a.a.createElement(q,null)}}),a.a.createElement(p.b,{path:"/login",render:function(){return a.a.createElement(ne,null)}}),a.a.createElement(p.b,{path:"/cart",render:function(){return a.a.createElement(K,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(213);o.a.render(a.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,t,n){},71:function(e,t,n){},93:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCRkKJwJFWe93AAACL0lEQVRIx53US2xNYRAH8N+pekaCBYJItBKPW5JqImEhDWHB0g47CRuviKWVFVaIkogQsbQhsaiEDSsL0cQzHm0Tj2pprgqCPoyF695zzr2q9Z/Fyfznm39m5pvvcMJPP3VYqxoL9IqSDdpT44R6/brVadauoCcXLZjrsw+YYr7VRsFR4UgVu0k4D1qFS7US60rfS2j1H/gj0GnI4v8RqKCzPK6sVVrI2rAHdlJfFujS6K0fGdGp5qW83+OsjL/JBd8rxDlhS66qjaMOcZ1wu67sdqFxXE13YFZWoGFcAovQkxVI38MRRVczCdsUvTCn7Deguz4jkG5holn4pB089NwSk4wYKZ9oLGWVUfRFUvYSZ4V3CiXvpPDeytT5U8LWtMA9YW7KT5wRehUkTgl9mXSuC81p4orIvcnEOeGty0KvptwQHwsz0sQxYUfuUOK0EPqsqIp89SG9ibU3Iew3aIPtnuYi80zzuFqgehPCIbXQiM7Ka/wjMPYX2YSXWarekNdjTF+qS1iTbWHYKw2KY0hPzMRFd7Mt0CXJSP4NocMBu6sDtZ70P5Ct4AVV9z0urBDeWDaelCTnn7YXrw2NIbfHFp/z5AQHdf/l95q356bXVm4T2ky12aA+E0rsceGiadb7ZsDk0Uq7KSwF94XZJfaa0ALuiMrK19UQeIZtaLFcv/4MmyhY5evoG7vYF6FoRDhQZhcaED4aFg7/a77NbvnkkV2ZW2pyw4An9qXr/gWTGdEVAItskQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wOS0yNVQxMDozOTowMiswMDowMMtTcJcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDktMjVUMTA6Mzk6MDIrMDA6MDC6DsgrAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="}},[[104,1,2]]]);
//# sourceMappingURL=main.45970028.chunk.js.map